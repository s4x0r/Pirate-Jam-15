[gd_scene load_steps=10 format=3 uid="uid://bnm5gtd07ahby"]

[ext_resource type="Script" path="res://level parts/weapons/beacon.gd" id="1_u6nel"]
[ext_resource type="PackedScene" uid="uid://dgjpviglyrbs1" path="res://assets/3D/Attachables/Beacon/beacon_model.tscn" id="2_8ql20"]

[sub_resource type="CylinderMesh" id="CylinderMesh_co3nn"]
top_radius = 0.1
bottom_radius = 5.0
height = 15.0

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_o3n4k"]
points = PackedVector3Array(-5, -7.5, 0, -4.00157, -4.50029, -0.394479, -4.97651, -7.5, -0.490407, -4.97651, -7.5, 0.489429, -4.00157, -4.50029, 0.3935, -0.100822, 7.5, 0, -4.90407, -7.5, -0.97592, -1.07576, 4.49883, -0.106695, -0.0988646, 7.5, -0.019577, -2.02134, 1.49912, -0.40231, -4.90407, -7.5, 0.974941, -2.02134, 1.49912, 0.401331, -0.0988646, 7.5, 0.0185981, -1.07576, 4.49883, 0.105717, -0.0998435, 7.5, 0.00978851, -0.0998435, 7.5, -0.0107675, -4.78563, -7.5, -1.45164, -0.0929914, 7.5, -0.0391541, -4.78563, -7.5, 1.45067, -0.0929914, 7.5, 0.0381756, -4.6202, -7.5, -1.91366, -0.089076, 7.5, -0.0479641, -4.6202, -7.5, 1.91269, -0.089076, 7.5, 0.0469851, -4.40975, -7.5, -2.35709, -0.0714564, 7.5, -0.0714564, -1.5926, 1.49912, -1.30775, -2.52839, -1.50059, -1.68951, -4.15818, -7.5, -2.778, -4.40975, -7.5, 2.35611, -1.5926, 1.49912, 1.30677, -0.0714564, 7.5, 0.0704775, -4.15818, -7.5, 2.77702, -2.52839, -1.50059, 1.68853, -0.0479641, 7.5, -0.089076, -1.30775, 1.49912, -1.5926, -3.17247, -7.5, -3.86551, -2.15055, -1.50059, -2.15055, -3.86551, -7.5, -3.17247, -3.86551, -7.5, 3.1715, -1.30775, 1.49912, 1.59162, -0.0479641, 7.5, 0.0880971, -2.15055, -1.50059, 2.14957, -3.17247, -7.5, 3.86453, -0.0391541, 7.5, -0.0929914, -1.91366, -7.5, -4.6202, -2.35709, -7.5, -4.40975, -2.778, -7.5, -4.15818, -1.68951, -1.50059, -2.52839, -3.53563, -7.5, -3.53563, -3.53563, -7.5, 3.53465, -1.68951, -1.50059, 2.52741, -0.0391541, 7.5, 0.0920124, -2.778, -7.5, 4.1572, -2.35709, -7.5, 4.40877, -1.91366, -7.5, 4.61922, -0.019577, 7.5, -0.0988646, -1.45164, -7.5, -4.78563, -0.019577, 7.5, 0.0978856, -1.45164, -7.5, 4.78465, -0.0107675, 7.5, -0.0998435, -0.106695, 4.49883, -1.07576, -0.394479, -4.50029, -4.00157, -0.40231, 1.49912, -2.02134, -0.97592, -7.5, -4.90407, -0.40231, 1.49912, 2.02036, -0.394479, -4.50029, 4.00059, -0.106695, 4.49883, 1.07478, -0.0107675, 7.5, 0.0988646, -0.97592, -7.5, 4.90309, 0, 7.5, -0.100822, 0, -7.5, -5, -0.490407, -7.5, -4.97651, -0.490407, -7.5, 4.97553, 0, -7.5, 5, 0, 7.5, 0.0998435, 0.00978851, 7.5, -0.0998435, 0.105717, 4.49883, -1.07576, 0.3935, -4.50029, -4.00157, 0.489429, -7.5, -4.97651, 0.489429, -7.5, 4.97553, 0.3935, -4.50029, 4.00059, 0.105717, 4.49883, 1.07478, 0.00978851, 7.5, 0.0988646, 0.0185981, 7.5, -0.0988646, 0.974941, -7.5, -4.90407, 0.401331, 1.49912, -2.02134, 0.974941, -7.5, 4.90309, 0.401331, 1.49912, 2.02036, 0.0185981, 7.5, 0.0978856, 0.0381756, 7.5, -0.0929914, 1.45067, -7.5, -4.78563, 1.45067, -7.5, 4.78465, 0.0381756, 7.5, 0.0920124, 0.0469851, 7.5, -0.089076, 1.91269, -7.5, -4.6202, 1.91269, -7.5, 4.61922, 0.0469851, 7.5, 0.0880971, 0.0704775, 7.5, -0.0714564, 1.30677, 1.49912, -1.5926, 1.68853, -1.50059, -2.52839, 2.77702, -7.5, -4.15818, 2.35611, -7.5, -4.40975, 2.35611, -7.5, 4.40877, 1.30677, 1.49912, 1.59162, 0.0704775, 7.5, 0.0704775, 2.77702, -7.5, 4.1572, 1.68853, -1.50059, 2.52741, 0.0880971, 7.5, -0.0479641, 1.59162, 1.49912, -1.30775, 3.86453, -7.5, -3.17247, 2.14957, -1.50059, -2.15055, 3.1715, -7.5, -3.86551, 3.1715, -7.5, 3.86453, 1.59162, 1.49912, 1.30677, 0.0880971, 7.5, 0.0469851, 2.14957, -1.50059, 2.14957, 3.86453, -7.5, 3.1715, 0.0920124, 7.5, -0.0391541, 4.61922, -7.5, -1.91366, 4.40877, -7.5, -2.35709, 4.1572, -7.5, -2.778, 2.52741, -1.50059, -1.68951, 3.53465, -7.5, -3.53563, 3.53465, -7.5, 3.53465, 2.52741, -1.50059, 1.68853, 0.0920124, 7.5, 0.0381756, 4.1572, -7.5, 2.77702, 4.40877, -7.5, 2.35611, 4.61922, -7.5, 1.91269, 0.0978856, 7.5, -0.019577, 4.78465, -7.5, -1.45164, 0.0978856, 7.5, 0.0185981, 4.78465, -7.5, 1.45067, 0.0988646, 7.5, -0.0107675, 1.07478, 4.49883, -0.106695, 4.00059, -4.50029, -0.394479, 2.02036, 1.49912, -0.40231, 4.90309, -7.5, -0.97592, 2.02036, 1.49912, 0.401331, 4.00059, -4.50029, 0.3935, 1.07478, 4.49883, 0.105717, 0.0988646, 7.5, 0.00978851, 4.90309, -7.5, 0.974941, 0.0998435, 7.5, 0, 5, -7.5, 0, 4.97553, -7.5, -0.490407, 4.97553, -7.5, 0.489429)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_nb2kp"]
points = PackedVector3Array(-5, -7.5, 0, -4.00157, -4.50029, -0.394479, -4.97651, -7.5, -0.490407, -4.97651, -7.5, 0.489429, -4.00157, -4.50029, 0.3935, -0.100822, 7.5, 0, -4.90407, -7.5, -0.97592, -1.07576, 4.49883, -0.106695, -0.0988646, 7.5, -0.019577, -2.02134, 1.49912, -0.40231, -4.90407, -7.5, 0.974941, -2.02134, 1.49912, 0.401331, -0.0988646, 7.5, 0.0185981, -1.07576, 4.49883, 0.105717, -0.0998435, 7.5, 0.00978851, -0.0998435, 7.5, -0.0107675, -4.78563, -7.5, -1.45164, -0.0929914, 7.5, -0.0391541, -4.78563, -7.5, 1.45067, -0.0929914, 7.5, 0.0381756, -4.6202, -7.5, -1.91366, -0.089076, 7.5, -0.0479641, -4.6202, -7.5, 1.91269, -0.089076, 7.5, 0.0469851, -4.40975, -7.5, -2.35709, -0.0714564, 7.5, -0.0714564, -1.5926, 1.49912, -1.30775, -2.52839, -1.50059, -1.68951, -4.15818, -7.5, -2.778, -4.40975, -7.5, 2.35611, -1.5926, 1.49912, 1.30677, -0.0714564, 7.5, 0.0704775, -4.15818, -7.5, 2.77702, -2.52839, -1.50059, 1.68853, -0.0479641, 7.5, -0.089076, -1.30775, 1.49912, -1.5926, -3.17247, -7.5, -3.86551, -2.15055, -1.50059, -2.15055, -3.86551, -7.5, -3.17247, -3.86551, -7.5, 3.1715, -1.30775, 1.49912, 1.59162, -0.0479641, 7.5, 0.0880971, -2.15055, -1.50059, 2.14957, -3.17247, -7.5, 3.86453, -0.0391541, 7.5, -0.0929914, -1.91366, -7.5, -4.6202, -2.35709, -7.5, -4.40975, -2.778, -7.5, -4.15818, -1.68951, -1.50059, -2.52839, -3.53563, -7.5, -3.53563, -3.53563, -7.5, 3.53465, -1.68951, -1.50059, 2.52741, -0.0391541, 7.5, 0.0920124, -2.778, -7.5, 4.1572, -2.35709, -7.5, 4.40877, -1.91366, -7.5, 4.61922, -0.019577, 7.5, -0.0988646, -1.45164, -7.5, -4.78563, -0.019577, 7.5, 0.0978856, -1.45164, -7.5, 4.78465, -0.0107675, 7.5, -0.0998435, -0.106695, 4.49883, -1.07576, -0.394479, -4.50029, -4.00157, -0.40231, 1.49912, -2.02134, -0.97592, -7.5, -4.90407, -0.40231, 1.49912, 2.02036, -0.394479, -4.50029, 4.00059, -0.106695, 4.49883, 1.07478, -0.0107675, 7.5, 0.0988646, -0.97592, -7.5, 4.90309, 0, 7.5, -0.100822, 0, -7.5, -5, -0.490407, -7.5, -4.97651, -0.490407, -7.5, 4.97553, 0, -7.5, 5, 0, 7.5, 0.0998435, 0.00978851, 7.5, -0.0998435, 0.105717, 4.49883, -1.07576, 0.3935, -4.50029, -4.00157, 0.489429, -7.5, -4.97651, 0.489429, -7.5, 4.97553, 0.3935, -4.50029, 4.00059, 0.105717, 4.49883, 1.07478, 0.00978851, 7.5, 0.0988646, 0.0185981, 7.5, -0.0988646, 0.974941, -7.5, -4.90407, 0.401331, 1.49912, -2.02134, 0.974941, -7.5, 4.90309, 0.401331, 1.49912, 2.02036, 0.0185981, 7.5, 0.0978856, 0.0381756, 7.5, -0.0929914, 1.45067, -7.5, -4.78563, 1.45067, -7.5, 4.78465, 0.0381756, 7.5, 0.0920124, 0.0469851, 7.5, -0.089076, 1.91269, -7.5, -4.6202, 1.91269, -7.5, 4.61922, 0.0469851, 7.5, 0.0880971, 0.0704775, 7.5, -0.0714564, 1.30677, 1.49912, -1.5926, 1.68853, -1.50059, -2.52839, 2.77702, -7.5, -4.15818, 2.35611, -7.5, -4.40975, 2.35611, -7.5, 4.40877, 1.30677, 1.49912, 1.59162, 0.0704775, 7.5, 0.0704775, 2.77702, -7.5, 4.1572, 1.68853, -1.50059, 2.52741, 0.0880971, 7.5, -0.0479641, 1.59162, 1.49912, -1.30775, 3.86453, -7.5, -3.17247, 2.14957, -1.50059, -2.15055, 3.1715, -7.5, -3.86551, 3.1715, -7.5, 3.86453, 1.59162, 1.49912, 1.30677, 0.0880971, 7.5, 0.0469851, 2.14957, -1.50059, 2.14957, 3.86453, -7.5, 3.1715, 0.0920124, 7.5, -0.0391541, 4.61922, -7.5, -1.91366, 4.40877, -7.5, -2.35709, 4.1572, -7.5, -2.778, 2.52741, -1.50059, -1.68951, 3.53465, -7.5, -3.53563, 3.53465, -7.5, 3.53465, 2.52741, -1.50059, 1.68853, 0.0920124, 7.5, 0.0381756, 4.1572, -7.5, 2.77702, 4.40877, -7.5, 2.35611, 4.61922, -7.5, 1.91269, 0.0978856, 7.5, -0.019577, 4.78465, -7.5, -1.45164, 0.0978856, 7.5, 0.0185981, 4.78465, -7.5, 1.45067, 0.0988646, 7.5, -0.0107675, 1.07478, 4.49883, -0.106695, 4.00059, -4.50029, -0.394479, 2.02036, 1.49912, -0.40231, 4.90309, -7.5, -0.97592, 2.02036, 1.49912, 0.401331, 4.00059, -4.50029, 0.3935, 1.07478, 4.49883, 0.105717, 0.0988646, 7.5, 0.00978851, 4.90309, -7.5, 0.974941, 0.0998435, 7.5, 0, 5, -7.5, 0, 4.97553, -7.5, -0.490407, 4.97553, -7.5, 0.489429)

[sub_resource type="Animation" id="Animation_obev6"]
resource_name = "activate"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Area3D:monitoring")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("light2:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("light1:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 6.26573, 0)]
}

[sub_resource type="Animation" id="Animation_fep70"]
resource_name = "deactivate"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Area3D:monitoring")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("light1:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("light2:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_48uke"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("light1:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_138bo"]
_data = {
"RESET": SubResource("Animation_48uke"),
"activate": SubResource("Animation_obev6"),
"deactivate": SubResource("Animation_fep70")
}

[node name="beacon" type="Node3D"]
transform = Transform3D(0.379032, 0, -0.925383, 0, 1, 0, 0.925383, 0, 0.379032, 0, 0, 0)
script = ExtResource("1_u6nel")

[node name="beacon" parent="." instance=ExtResource("2_8ql20")]

[node name="light1" type="SpotLight3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -0.8, 0, 0)
light_energy = 20.0
spot_range = 15.0
spot_angle = 20.0

[node name="light2" type="SpotLight3D" parent="."]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0.8, 0, 0)
visible = false
light_energy = 20.0
spot_range = 15.0
spot_angle = 20.0

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.15, 0)
collision_layer = 2
collision_mask = 2
monitoring = false
monitorable = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="Area3D"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 7.5, 0, 0)
visible = false
mesh = SubResource("CylinderMesh_co3nn")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Area3D"]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, -7.5, 0, 0)
visible = false
mesh = SubResource("CylinderMesh_co3nn")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 7.5, 0, 0)
shape = SubResource("ConvexPolygonShape3D_o3n4k")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, -7.5, 0, 0)
shape = SubResource("ConvexPolygonShape3D_nb2kp")

[node name="Timer" type="Timer" parent="."]
one_shot = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_138bo")
}
autoplay = "deactivate"

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
