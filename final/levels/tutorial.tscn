[gd_scene load_steps=30 format=3 uid="uid://coldv1d00bnl2"]

[ext_resource type="Script" path="res://final/levels/tutorial.gd" id="1_wbc0t"]
[ext_resource type="Environment" uid="uid://cvoybkaw7n4e6" path="res://final/level parts/environment.tres" id="2_upxxe"]
[ext_resource type="PackedScene" uid="uid://bsjjo30b5fe14" path="res://final/level parts/playerv2.tscn" id="4_6q7lx"]
[ext_resource type="Texture2D" uid="uid://df5flfv8hl8rq" path="res://final/road_muddy_02.jpg" id="5_pyw4o"]
[ext_resource type="PackedScene" uid="uid://c0wutd8mr55cu" path="res://final/level parts/totem.tscn" id="6_hn3rt"]
[ext_resource type="PackedScene" uid="uid://cawuunbmj2p1v" path="res://final/level parts/mob.tscn" id="7_xnp2f"]
[ext_resource type="PackedScene" uid="uid://cng1nhbe4pipi" path="res://final/level parts/switch.tscn" id="8_5tvb0"]
[ext_resource type="PackedScene" uid="uid://f3qkhyyckwww" path="res://final/level parts/drawbridge.tscn" id="9_y8h1t"]
[ext_resource type="PackedScene" uid="uid://dglyu44lpw0n7" path="res://final/level parts/exit.tscn" id="10_wo75y"]
[ext_resource type="PackedScene" uid="uid://d24are02qhe4b" path="res://final/level parts/dirbeacon.tscn" id="11_qy6sc"]
[ext_resource type="PackedScene" uid="uid://dxtumaxs46ieb" path="res://final/level parts/laser_target.tscn" id="12_jh85j"]
[ext_resource type="PackedScene" uid="uid://2s78ib5dxhcj" path="res://final/level parts/gate.tscn" id="13_6ovvb"]
[ext_resource type="Script" path="res://final/level parts/gate.gd" id="14_34fxy"]
[ext_resource type="PackedScene" uid="uid://lc8a4tkehn8m" path="res://final/level parts/button.tscn" id="15_bvde4"]
[ext_resource type="PackedScene" uid="uid://cuwj00hlu60a" path="res://final/level parts/instastairs.tscn" id="16_svv3x"]

[sub_resource type="LabelSettings" id="LabelSettings_r0ylg"]
font_size = 70
font_color = Color(1, 0, 0, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_uikyb"]
vertices = PackedVector3Array(-30.1469, 0.916869, -20.9485, -28.1469, 0.916869, -19.4485, -20.3969, 0.916869, -29.9485, -19.8969, 0.916869, -30.9485, -29.1469, 0.916869, -40.1985, -35.3969, 0.916869, -33.9485, -69.1469, 0.916869, 18.0515, -68.6469, 0.916869, 18.0515, -68.6469, 0.916869, 17.3015, -78.1469, 0.916869, 9.05151, -78.1469, 0.916869, 8.55151, -78.1469, 0.916869, 9.05151, -68.6469, 0.916869, 17.3015, -30.1469, 0.916869, -20.9485, -35.3969, 0.916869, -33.9485, -28.1469, 0.916869, -19.4485, -5.8969, 0.916869, 3.55151, -5.3969, 0.916869, -5.69849, -5.3969, 0.916869, -5.69849, 3.6031, 0.916869, -5.69849, -20.3969, 0.916869, -29.9485, -28.1469, 0.916869, -19.4485, -67.6469, 14.9169, 17.8015, -56.6469, 14.9169, 28.8015, -19.1469, 14.9169, -8.69849, -30.1469, 14.9169, -19.6985, -4.6469, 4.16687, -4.69849, -4.6469, 4.16687, 4.55151, 4.6031, 4.16687, 4.55151, 4.6031, 4.16687, -4.69849, -4.3969, 0.916869, -4.44849, -4.3969, 0.916869, 4.30151, 4.3531, 0.916869, 4.30151, 4.3531, 0.916869, -4.44849, 19.3531, 0.916869, 28.8015, 19.8531, 0.916869, 28.8015, 28.8531, 0.916869, 19.8015, 28.8531, 0.916869, 19.3015, 5.8531, 0.916869, -3.69849, 5.3531, 0.916869, 5.55151, 5.3531, 0.916869, 5.55151, -3.6469, 0.916869, 5.55151, 19.3531, 0.916869, 28.8015, -50.8969, 0.916869, 79.0515, -50.3969, 0.916869, 79.0515, -41.3969, 0.916869, 70.0515, -41.3969, 0.916869, 69.5515, -90.1469, 0.916869, 20.8015, -99.6469, 0.916869, 30.0515)
polygons = [PackedInt32Array(3, 2, 4), PackedInt32Array(4, 2, 5), PackedInt32Array(5, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(11, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(13, 10, 14), PackedInt32Array(17, 16, 15), PackedInt32Array(21, 20, 18), PackedInt32Array(18, 20, 19), PackedInt32Array(25, 24, 22), PackedInt32Array(22, 24, 23), PackedInt32Array(29, 28, 26), PackedInt32Array(26, 28, 27), PackedInt32Array(33, 32, 30), PackedInt32Array(30, 32, 31), PackedInt32Array(35, 34, 36), PackedInt32Array(36, 34, 37), PackedInt32Array(37, 34, 39), PackedInt32Array(37, 39, 38), PackedInt32Array(42, 41, 40), PackedInt32Array(44, 43, 45), PackedInt32Array(45, 43, 46), PackedInt32Array(46, 43, 47), PackedInt32Array(47, 43, 48)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1a1nm"]
albedo_texture = ExtResource("5_pyw4o")
uv1_triplanar = true

[sub_resource type="BoxMesh" id="BoxMesh_ergob"]
material = SubResource("StandardMaterial3D_1a1nm")
size = Vector3(14, 1, 70)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_4o3ey"]
data = PackedVector3Array(-7, 0.5, 35, 7, 0.5, 35, -7, -0.5, 35, 7, 0.5, 35, 7, -0.5, 35, -7, -0.5, 35, 7, 0.5, -35, -7, 0.5, -35, 7, -0.5, -35, -7, 0.5, -35, -7, -0.5, -35, 7, -0.5, -35, 7, 0.5, 35, 7, 0.5, -35, 7, -0.5, 35, 7, 0.5, -35, 7, -0.5, -35, 7, -0.5, 35, -7, 0.5, -35, -7, 0.5, 35, -7, -0.5, -35, -7, 0.5, 35, -7, -0.5, 35, -7, -0.5, -35, 7, 0.5, 35, -7, 0.5, 35, 7, 0.5, -35, -7, 0.5, 35, -7, 0.5, -35, 7, 0.5, -35, -7, -0.5, 35, 7, -0.5, 35, -7, -0.5, -35, 7, -0.5, 35, 7, -0.5, -35, -7, -0.5, -35)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_gsl10"]
data = PackedVector3Array(-7, 0.5, 35, 7, 0.5, 35, -7, -0.5, 35, 7, 0.5, 35, 7, -0.5, 35, -7, -0.5, 35, 7, 0.5, -35, -7, 0.5, -35, 7, -0.5, -35, -7, 0.5, -35, -7, -0.5, -35, 7, -0.5, -35, 7, 0.5, 35, 7, 0.5, -35, 7, -0.5, 35, 7, 0.5, -35, 7, -0.5, -35, 7, -0.5, 35, -7, 0.5, -35, -7, 0.5, 35, -7, -0.5, -35, -7, 0.5, 35, -7, -0.5, 35, -7, -0.5, -35, 7, 0.5, 35, -7, 0.5, 35, 7, 0.5, -35, -7, 0.5, 35, -7, 0.5, -35, 7, 0.5, -35, -7, -0.5, 35, 7, -0.5, 35, -7, -0.5, -35, 7, -0.5, 35, 7, -0.5, -35, -7, -0.5, -35)

[sub_resource type="BoxMesh" id="BoxMesh_q8f6i"]
size = Vector3(16, 15, 54)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5qvly"]
data = PackedVector3Array(-8, 7.5, 27, 8, 7.5, 27, -8, -7.5, 27, 8, 7.5, 27, 8, -7.5, 27, -8, -7.5, 27, 8, 7.5, -27, -8, 7.5, -27, 8, -7.5, -27, -8, 7.5, -27, -8, -7.5, -27, 8, -7.5, -27, 8, 7.5, 27, 8, 7.5, -27, 8, -7.5, 27, 8, 7.5, -27, 8, -7.5, -27, 8, -7.5, 27, -8, 7.5, -27, -8, 7.5, 27, -8, -7.5, -27, -8, 7.5, 27, -8, -7.5, 27, -8, -7.5, -27, 8, 7.5, 27, -8, 7.5, 27, 8, 7.5, -27, -8, 7.5, 27, -8, 7.5, -27, 8, 7.5, -27, -8, -7.5, 27, 8, -7.5, 27, -8, -7.5, -27, 8, -7.5, 27, 8, -7.5, -27, -8, -7.5, -27)

[sub_resource type="BoxMesh" id="BoxMesh_audsp"]
size = Vector3(10, 5, 10)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_8ckpb"]
data = PackedVector3Array(-5, 2.5, 5, 5, 2.5, 5, -5, -2.5, 5, 5, 2.5, 5, 5, -2.5, 5, -5, -2.5, 5, 5, 2.5, -5, -5, 2.5, -5, 5, -2.5, -5, -5, 2.5, -5, -5, -2.5, -5, 5, -2.5, -5, 5, 2.5, 5, 5, 2.5, -5, 5, -2.5, 5, 5, 2.5, -5, 5, -2.5, -5, 5, -2.5, 5, -5, 2.5, -5, -5, 2.5, 5, -5, -2.5, -5, -5, 2.5, 5, -5, -2.5, 5, -5, -2.5, -5, 5, 2.5, 5, -5, 2.5, 5, 5, 2.5, -5, -5, 2.5, 5, -5, 2.5, -5, 5, 2.5, -5, -5, -2.5, 5, 5, -2.5, 5, -5, -2.5, -5, 5, -2.5, 5, 5, -2.5, -5, -5, -2.5, -5)

[sub_resource type="BoxMesh" id="BoxMesh_6sh2a"]
size = Vector3(16, 1, 1)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_n1yro"]
points = PackedVector3Array(8, 0.5, 0.5, 8, 0.5, -0.5, -8, 0.5, 0.5, 8, -0.5, 0.5, 8, -0.5, -0.5, -8, 0.5, -0.5, -8, -0.5, 0.5, -8, -0.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_nh54p"]
size = Vector3(2, 2, 2)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_xsuqg"]
data = PackedVector3Array(-1, 1, 1, 1, 1, 1, -1, -1, 1, 1, 1, 1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, -1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1, 1, 1, 1, 1, 1, -1, 1, -1, 1, 1, 1, -1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1, 1, 1, -1, -1, -1, -1, 1, 1, -1, -1, 1, -1, -1, -1, 1, 1, 1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1, -1, 1, 1, -1, -1, -1, 1, 1, -1, 1, -1, -1, -1, 1, -1, 1, 1, -1, -1, -1, -1, -1)

[node name="tutorial" type="Node3D"]
script = ExtResource("1_wbc0t")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_upxxe")

[node name="darklight" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 12, 0)
light_color = Color(0.152941, 0.152941, 0.239216, 1)
light_energy = 0.515
sky_mode = 1

[node name="sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 12, 0)
visible = false
light_energy = 0.515
sky_mode = 1

[node name="ui" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="move" type="Panel" parent="ui"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -70.0
offset_top = -231.0
offset_right = 70.0
offset_bottom = -152.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/move"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Press WASD to move"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="zoom" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -70.0
offset_top = -231.0
offset_right = 70.0
offset_bottom = -152.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/zoom"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Zoom in/out with the scroll wheel"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="jump" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -70.0
offset_top = -231.0
offset_right = 70.0
offset_bottom = -152.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/jump"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Press space to jump"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="rotate" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -70.0
offset_top = -231.0
offset_right = 70.0
offset_bottom = -152.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/rotate"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Rotate the Camera with Q/R"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="inventory" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -70.0
offset_top = -231.0
offset_right = 70.0
offset_bottom = -152.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/inventory"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Press F to open inventory"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="tools" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -70.0
offset_top = -231.0
offset_right = 70.0
offset_bottom = -152.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/tools"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Press 1/2/3 to switch between weapons"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="interact" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -70.0
offset_top = -231.0
offset_right = 70.0
offset_bottom = -152.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/interact"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Press E to interact"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="charge" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -89.0
offset_top = -246.0
offset_right = 89.0
offset_bottom = -137.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/charge"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Using weapons depletes your charge, so be careful. Once it runs out, you're dead"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="recharge" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -89.0
offset_top = -230.0
offset_right = 89.0
offset_bottom = -153.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/recharge"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Stand near a totem to recharge"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="totem" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -89.0
offset_top = -230.0
offset_right = 89.0
offset_bottom = -153.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/totem"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Some totems will need to be activated first"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="enemy" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -89.0
offset_top = -230.0
offset_right = 89.0
offset_bottom = -153.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/enemy"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Beware the creatures that lurk in the dark"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="exit" type="Panel" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -89.0
offset_top = -230.0
offset_right = 89.0
offset_bottom = -153.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_group_ = true

[node name="Label" type="Label" parent="ui/exit"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
text = "Reach the exit to complete the level"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="game over" type="ColorRect" parent="ui"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0.768627)

[node name="Label" type="Label" parent="ui/game over"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
text = "YOU DIED"
label_settings = SubResource("LabelSettings_r0ylg")

[node name="HBoxContainer" type="HBoxContainer" parent="ui/game over"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -172.0
offset_top = 74.0
offset_right = 172.0
offset_bottom = 237.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(1, 0.52)
alignment = 1

[node name="retry" type="Button" parent="ui/game over/HBoxContainer"]
layout_mode = 2
text = "Retry"

[node name="goto main" type="Button" parent="ui/game over/HBoxContainer"]
layout_mode = 2
text = "Main Menu"

[node name="player" parent="." instance=ExtResource("4_6q7lx")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -97, 18.5, -27)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, 0, 0, 0)
navigation_mesh = SubResource("NavigationMesh_uikyb")

[node name="walls" type="Node3D" parent="NavigationRegion3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -0.199091, 0, -0.336036)
mesh = SubResource("BoxMesh_ergob")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/walls/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/walls/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_4o3ey")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -49, 0, -11)
mesh = SubResource("BoxMesh_ergob")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/walls/MeshInstance3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/walls/MeshInstance3D2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_gsl10")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, -0.707107, -70.4484, 0, 50.0464)
mesh = SubResource("BoxMesh_ergob")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/walls/MeshInstance3D5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/walls/MeshInstance3D5/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_gsl10")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -43.343, 7.07054, 4.54675)
mesh = SubResource("BoxMesh_q8f6i")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/walls/MeshInstance3D3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/walls/MeshInstance3D3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5qvly")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -95.3585, 7.07054, 46.6627)
mesh = SubResource("BoxMesh_q8f6i")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/walls/MeshInstance3D6"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/walls/MeshInstance3D6/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5qvly")

[node name="MeshInstance3D7" type="MeshInstance3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(0.707107, 0.707107, -4.21468e-08, -1.19209e-07, -4.37114e-08, -1, -0.707107, 0.707107, 4.21468e-08, -72.3344, 7.07054, 70.3077)
mesh = SubResource("BoxMesh_q8f6i")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/walls/MeshInstance3D7"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/walls/MeshInstance3D7/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5qvly")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="NavigationRegion3D/walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.16687, 0)
mesh = SubResource("BoxMesh_audsp")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/walls/MeshInstance3D4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/walls/MeshInstance3D4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_8ckpb")

[node name="objects" type="Node3D" parent="NavigationRegion3D"]

[node name="switch" parent="NavigationRegion3D/objects" instance=ExtResource("8_5tvb0")]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -65.0202, 2.64218, 14.6752)

[node name="switch2" parent="NavigationRegion3D/objects" instance=ExtResource("8_5tvb0")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -95.181, 1.89631, 35.3199)

[node name="drawbridge" parent="NavigationRegion3D/objects" instance=ExtResource("9_y8h1t")]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, -73.5391, 0.293314, 14.1421)

[node name="exit" parent="NavigationRegion3D/objects" instance=ExtResource("10_wo75y")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -50.2046, 0.566264, 70.0036)

[node name="laser group" type="Node3D" parent="NavigationRegion3D/objects"]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -59.0951, 14.5564, 20.1008)

[node name="totem2" parent="NavigationRegion3D/objects/laser group" instance=ExtResource("6_hn3rt")]
transform = Transform3D(0.999999, 0, 0, 0, 1, 0, 0, 0, 0.999999, -41, -0.640285, -27.886)

[node name="gate" parent="NavigationRegion3D/objects" instance=ExtResource("13_6ovvb")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -60.1683, 0, 60.1683)
script = ExtResource("14_34fxy")

[node name="instastairs" parent="NavigationRegion3D/objects" instance=ExtResource("16_svv3x")]
transform = Transform3D(0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107, -74.2462, 8.6423, 30.4056)

[node name="triggers" type="Node3D" parent="."]

[node name="zoom trigger" type="Area3D" parent="triggers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.47169, 24.0914)
collision_layer = 3
collision_mask = 3
metadata/_edit_group_ = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="triggers/zoom trigger"]
visible = false
mesh = SubResource("BoxMesh_6sh2a")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="triggers/zoom trigger"]
shape = SubResource("ConvexPolygonShape3D_n1yro")

[node name="jump trigger" type="Area3D" parent="triggers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.47169, 8.38073)
collision_layer = 3
collision_mask = 3
metadata/_edit_group_ = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="triggers/jump trigger"]
visible = false
mesh = SubResource("BoxMesh_6sh2a")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="triggers/jump trigger"]
shape = SubResource("ConvexPolygonShape3D_n1yro")

[node name="rotate trigger" type="Area3D" parent="triggers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.47169, -34.1675)
collision_layer = 4
collision_mask = 4
metadata/_edit_group_ = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="triggers/rotate trigger"]
visible = false
mesh = SubResource("BoxMesh_6sh2a")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="triggers/rotate trigger"]
shape = SubResource("ConvexPolygonShape3D_n1yro")

[node name="tool trigger" type="Area3D" parent="triggers"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.73707, 1.47169, -42.6409)
collision_layer = 4
collision_mask = 4
metadata/_edit_group_ = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="triggers/tool trigger"]
visible = false
mesh = SubResource("BoxMesh_6sh2a")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="triggers/tool trigger"]
shape = SubResource("ConvexPolygonShape3D_n1yro")

[node name="charge trigger" type="Area3D" parent="triggers"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -21.199, 1.47169, -42.6409)
collision_layer = 4
collision_mask = 4
metadata/_edit_group_ = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="triggers/charge trigger"]
visible = false
mesh = SubResource("BoxMesh_6sh2a")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="triggers/charge trigger"]
shape = SubResource("ConvexPolygonShape3D_n1yro")

[node name="recharge trigger" type="Area3D" parent="triggers"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -36.4362, 1.47169, -42.6409)
collision_layer = 4
collision_mask = 4
metadata/_edit_group_ = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="triggers/recharge trigger"]
visible = false
mesh = SubResource("BoxMesh_6sh2a")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="triggers/recharge trigger"]
shape = SubResource("ConvexPolygonShape3D_n1yro")

[node name="totem" parent="." instance=ExtResource("6_hn3rt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.4952, 0.5, -42.8408)
active = true

[node name="laser" parent="." instance=ExtResource("11_qy6sc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -97, 13.9161, -27.5731)

[node name="laser target2" parent="laser" instance=ExtResource("12_jh85j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10.4236)

[node name="Button2" parent="." instance=ExtResource("15_bvde4")]
transform = Transform3D(-0.993969, 0, 0.109665, 0, 1, 0, -0.109665, 0, -0.993969, -101.524, 15.5487, -46.0148)
metadata/_edit_group_ = true

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Button2"]
transform = Transform3D(-0.0671625, 0, 0.997742, 0, 1, 0, -0.997742, 0, -0.0671625, 1.08125, 0, -0.0727806)
mesh = SubResource("BoxMesh_nh54p")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="Button2/MeshInstance3D3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Button2/MeshInstance3D3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_xsuqg")

[node name="mob" parent="." instance=ExtResource("7_xnp2f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -50.1312, 1.76705, -42.1949)
active = false

[node name="laser target" parent="." instance=ExtResource("12_jh85j")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -59.1017, 13.9161, -27.5731)

[connection signal="activate" from="NavigationRegion3D/objects/switch" to="NavigationRegion3D/objects/drawbridge" method="lower"]
[connection signal="deactivate" from="NavigationRegion3D/objects/switch" to="NavigationRegion3D/objects/drawbridge" method="raise"]
[connection signal="activate" from="NavigationRegion3D/objects/switch2" to="laser" method="activate"]
[connection signal="deactivate" from="NavigationRegion3D/objects/switch2" to="laser" method="deactivate"]
[connection signal="body_entered" from="triggers/zoom trigger" to="." method="trigger" binds= ["zoom"]]
[connection signal="body_entered" from="triggers/jump trigger" to="." method="trigger" binds= ["jump"]]
[connection signal="body_entered" from="triggers/rotate trigger" to="." method="trigger" binds= ["rotate"]]
[connection signal="body_entered" from="triggers/tool trigger" to="." method="trigger" binds= ["tool"]]
[connection signal="body_entered" from="triggers/charge trigger" to="." method="trigger" binds= ["charge"]]
[connection signal="body_entered" from="triggers/recharge trigger" to="." method="trigger" binds= ["recharge"]]
[connection signal="activate" from="laser/laser target2" to="NavigationRegion3D/objects/instastairs" method="activate"]
[connection signal="deactivate" from="laser/laser target2" to="NavigationRegion3D/objects/instastairs" method="deactivate"]
[connection signal="activate" from="Button2" to="laser" method="rotate_r"]
[connection signal="activate" from="laser target" to="NavigationRegion3D/objects/gate" method="activate"]
[connection signal="deactivate" from="laser target" to="NavigationRegion3D/objects/gate" method="deactivate"]
