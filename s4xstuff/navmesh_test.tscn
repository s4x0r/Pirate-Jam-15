[gd_scene load_steps=10 format=3 uid="uid://0msqn2wm5b6y"]

[ext_resource type="Script" path="res://s4xstuff/navmesh_test.gd" id="1_lw087"]

[sub_resource type="NavigationMesh" id="NavigationMesh_kmhs1"]
vertices = PackedVector3Array(-49.5, -0.25, -13.75, -15.5, -0.25, -13.75, -15.25, -0.25, -15, -13.25, -0.25, -49.5, -49.5, -0.25, -49.5, -15.25, -0.25, -15, -13.25, -0.25, -15, -13.25, -0.25, -49.5, -13.25, -0.25, -15, 13.5, -0.25, -15, 13.5, -0.25, -49.5, -13.25, -0.25, -49.5, 15.5, -0.25, -15, 15.75, -0.25, -13.75, 49.5, -0.25, -13.75, 49.5, -0.25, -49.5, 13.5, -0.25, -49.5, 13.5, -0.25, -49.5, 13.5, -0.25, -15, 15.5, -0.25, -15, -15.25, -0.25, -12.75, -15.5, -0.25, -13.75, -49.5, -0.25, -13.75, -49.5, -0.25, 49.5, -14, -0.25, 49.5, -14, -0.25, 49.5, -13.75, -0.25, -12.75, -15.25, -0.25, -12.75, 49.5, -0.25, -13.75, 15.75, -0.25, -13.75, 15.5, -0.25, -12.75, 14.25, -0.25, 49.5, 49.5, -0.25, 49.5, 15.5, -0.25, -12.75, 14, -0.25, -12.75, 14.25, -0.25, 49.5, -14, -0.25, 49.5, 14.25, -0.25, 49.5, 14, -0.25, -12.75, -13.75, -0.25, -12.75)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 4), PackedInt32Array(2, 4, 3), PackedInt32Array(7, 6, 5), PackedInt32Array(11, 10, 8), PackedInt32Array(8, 10, 9), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(15, 12, 16), PackedInt32Array(19, 18, 17), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(23, 20, 24), PackedInt32Array(27, 26, 25), PackedInt32Array(29, 28, 30), PackedInt32Array(30, 28, 32), PackedInt32Array(30, 32, 31), PackedInt32Array(35, 34, 33), PackedInt32Array(39, 38, 36), PackedInt32Array(36, 38, 37)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vs5xu"]
albedo_color = Color(0.407843, 0.231373, 0.74902, 1)

[sub_resource type="BoxMesh" id="BoxMesh_jmbak"]
material = SubResource("StandardMaterial3D_vs5xu")
size = Vector3(100, 0.5, 100)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_v2rhc"]
points = PackedVector3Array(50.7837, 0.543651, 50.7837, -50.7837, -1.04365, -50.7837, -50.7837, 0.543651, -50.7837, 50.7837, -1.04365, -50.7837, -50.7837, -1.04365, 50.7837, -50.7837, 0.543651, 50.7837, 50.7837, 0.543651, -50.7837, 50.7837, -1.04365, 50.7837)

[sub_resource type="BoxMesh" id="BoxMesh_uflyx"]
size = Vector3(30, 3, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_w8kn3"]
albedo_color = Color(0.160784, 0.435294, 1, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_n13mo"]
material = SubResource("StandardMaterial3D_w8kn3")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_okpqs"]
albedo_color = Color(0, 0, 0, 1)

[node name="navmesh test" type="Node3D"]
script = ExtResource("1_lw087")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.00471242, 0.999989, 0, -0.999989, -0.00471242, 0, 2, 0)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_kmhs1")

[node name="ClickArea" type="StaticBody3D" parent="NavigationRegion3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/ClickArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
mesh = SubResource("BoxMesh_jmbak")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/ClickArea"]
shape = SubResource("ConvexPolygonShape3D_v2rhc")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="NavigationRegion3D/ClickArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -13.9278)
mesh = SubResource("BoxMesh_uflyx")

[node name="PlayerBase" type="Node3D" parent="."]

[node name="model" type="MeshInstance3D" parent="PlayerBase"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
mesh = SubResource("CapsuleMesh_n13mo")

[node name="CSGSphere3D" type="CSGSphere3D" parent="PlayerBase/model"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.220586, 0.495756, 0.547603)
radius = 0.15
material = SubResource("StandardMaterial3D_okpqs")

[node name="CSGSphere3D2" type="CSGSphere3D" parent="PlayerBase/model"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.20923, 0.390453, 0.547603)
radius = 0.15
material = SubResource("StandardMaterial3D_okpqs")

[node name="Camera3D" type="Camera3D" parent="PlayerBase"]
transform = Transform3D(1, 0, 0, 0, 0.702998, 0.711192, 0, -0.711192, 0.702998, 0, 14, 10)

[connection signal="input_event" from="NavigationRegion3D/ClickArea" to="." method="_on_click_area_input_event"]
